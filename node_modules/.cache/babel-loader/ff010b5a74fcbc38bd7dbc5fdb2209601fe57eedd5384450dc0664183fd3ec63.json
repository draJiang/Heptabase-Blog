{"ast":null,"code":"/**\n * @typedef {import('mdast').Table} Table\n * @typedef {import('hast').Element} Element\n * @typedef {import('../index.js').Handler} Handler\n * @typedef {import('../index.js').Content} Content\n */\n\nimport { pointStart, pointEnd } from 'unist-util-position';\nimport { wrap } from '../wrap.js';\nimport { all } from '../traverse.js';\n\n/**\n * @type {Handler}\n * @param {Table} node\n */\nexport function table(h, node) {\n  const rows = node.children;\n  let index = -1;\n  const align = node.align || [];\n  /** @type {Array<Element>} */\n  const result = [];\n  while (++index < rows.length) {\n    const row = rows[index].children;\n    const name = index === 0 ? 'th' : 'td';\n    /** @type {Array<Content>} */\n    const out = [];\n    let cellIndex = -1;\n    const length = node.align ? align.length : row.length;\n    while (++cellIndex < length) {\n      const cell = row[cellIndex];\n      out.push(h(cell, name, {\n        align: align[cellIndex]\n      }, cell ? all(h, cell) : []));\n    }\n    result[index] = h(rows[index], 'tr', wrap(out, true));\n  }\n  return h(node, 'table', wrap([h(result[0].position, 'thead', wrap([result[0]], true))].concat(result[1] ? h({\n    start: pointStart(result[1]),\n    end: pointEnd(result[result.length - 1])\n  }, 'tbody', wrap(result.slice(1), true)) : []), true));\n}","map":{"version":3,"names":["pointStart","pointEnd","wrap","all","table","h","node","rows","children","index","align","result","length","row","name","out","cellIndex","cell","push","position","concat","start","end","slice"],"sources":["/Users/jiangzilong/学习/minpg/Heptabase-Blog/node_modules/mdast-util-to-hast/lib/handlers/table.js"],"sourcesContent":["/**\n * @typedef {import('mdast').Table} Table\n * @typedef {import('hast').Element} Element\n * @typedef {import('../index.js').Handler} Handler\n * @typedef {import('../index.js').Content} Content\n */\n\nimport {pointStart, pointEnd} from 'unist-util-position'\nimport {wrap} from '../wrap.js'\nimport {all} from '../traverse.js'\n\n/**\n * @type {Handler}\n * @param {Table} node\n */\nexport function table(h, node) {\n  const rows = node.children\n  let index = -1\n  const align = node.align || []\n  /** @type {Array<Element>} */\n  const result = []\n\n  while (++index < rows.length) {\n    const row = rows[index].children\n    const name = index === 0 ? 'th' : 'td'\n    /** @type {Array<Content>} */\n    const out = []\n    let cellIndex = -1\n    const length = node.align ? align.length : row.length\n\n    while (++cellIndex < length) {\n      const cell = row[cellIndex]\n      out.push(\n        h(cell, name, {align: align[cellIndex]}, cell ? all(h, cell) : [])\n      )\n    }\n\n    result[index] = h(rows[index], 'tr', wrap(out, true))\n  }\n\n  return h(\n    node,\n    'table',\n    wrap(\n      [h(result[0].position, 'thead', wrap([result[0]], true))].concat(\n        result[1]\n          ? h(\n              {\n                start: pointStart(result[1]),\n                end: pointEnd(result[result.length - 1])\n              },\n              'tbody',\n              wrap(result.slice(1), true)\n            )\n          : []\n      ),\n      true\n    )\n  )\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAQA,UAAU,EAAEC,QAAQ,QAAO,qBAAqB;AACxD,SAAQC,IAAI,QAAO,YAAY;AAC/B,SAAQC,GAAG,QAAO,gBAAgB;;AAElC;AACA;AACA;AACA;AACA,OAAO,SAASC,KAAK,CAACC,CAAC,EAAEC,IAAI,EAAE;EAC7B,MAAMC,IAAI,GAAGD,IAAI,CAACE,QAAQ;EAC1B,IAAIC,KAAK,GAAG,CAAC,CAAC;EACd,MAAMC,KAAK,GAAGJ,IAAI,CAACI,KAAK,IAAI,EAAE;EAC9B;EACA,MAAMC,MAAM,GAAG,EAAE;EAEjB,OAAO,EAAEF,KAAK,GAAGF,IAAI,CAACK,MAAM,EAAE;IAC5B,MAAMC,GAAG,GAAGN,IAAI,CAACE,KAAK,CAAC,CAACD,QAAQ;IAChC,MAAMM,IAAI,GAAGL,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,IAAI;IACtC;IACA,MAAMM,GAAG,GAAG,EAAE;IACd,IAAIC,SAAS,GAAG,CAAC,CAAC;IAClB,MAAMJ,MAAM,GAAGN,IAAI,CAACI,KAAK,GAAGA,KAAK,CAACE,MAAM,GAAGC,GAAG,CAACD,MAAM;IAErD,OAAO,EAAEI,SAAS,GAAGJ,MAAM,EAAE;MAC3B,MAAMK,IAAI,GAAGJ,GAAG,CAACG,SAAS,CAAC;MAC3BD,GAAG,CAACG,IAAI,CACNb,CAAC,CAACY,IAAI,EAAEH,IAAI,EAAE;QAACJ,KAAK,EAAEA,KAAK,CAACM,SAAS;MAAC,CAAC,EAAEC,IAAI,GAAGd,GAAG,CAACE,CAAC,EAAEY,IAAI,CAAC,GAAG,EAAE,CAAC,CACnE;IACH;IAEAN,MAAM,CAACF,KAAK,CAAC,GAAGJ,CAAC,CAACE,IAAI,CAACE,KAAK,CAAC,EAAE,IAAI,EAAEP,IAAI,CAACa,GAAG,EAAE,IAAI,CAAC,CAAC;EACvD;EAEA,OAAOV,CAAC,CACNC,IAAI,EACJ,OAAO,EACPJ,IAAI,CACF,CAACG,CAAC,CAACM,MAAM,CAAC,CAAC,CAAC,CAACQ,QAAQ,EAAE,OAAO,EAAEjB,IAAI,CAAC,CAACS,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAACS,MAAM,CAC9DT,MAAM,CAAC,CAAC,CAAC,GACLN,CAAC,CACC;IACEgB,KAAK,EAAErB,UAAU,CAACW,MAAM,CAAC,CAAC,CAAC,CAAC;IAC5BW,GAAG,EAAErB,QAAQ,CAACU,MAAM,CAACA,MAAM,CAACC,MAAM,GAAG,CAAC,CAAC;EACzC,CAAC,EACD,OAAO,EACPV,IAAI,CAACS,MAAM,CAACY,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAC5B,GACD,EAAE,CACP,EACD,IAAI,CACL,CACF;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}