{"ast":null,"code":"/**\n * @typedef {import('../types.js').Unsafe} Unsafe\n */\n\n/**\n * @param {Array<string>} stack\n * @param {Unsafe} pattern\n * @returns {boolean}\n */\nexport function patternInScope(stack, pattern) {\n  return listInScope(stack, pattern.inConstruct, true) && !listInScope(stack, pattern.notInConstruct, false);\n}\n\n/**\n * @param {Array<string>} stack\n * @param {Unsafe['inConstruct']} list\n * @param {boolean} none\n * @returns {boolean}\n */\nfunction listInScope(stack, list, none) {\n  if (!list) {\n    return none;\n  }\n  if (typeof list === 'string') {\n    list = [list];\n  }\n  let index = -1;\n  while (++index < list.length) {\n    if (stack.includes(list[index])) {\n      return true;\n    }\n  }\n  return false;\n}","map":{"version":3,"names":["patternInScope","stack","pattern","listInScope","inConstruct","notInConstruct","list","none","index","length","includes"],"sources":["/Users/jiangzilong/学习/minpg/Heptabase-Blog/node_modules/mdast-util-to-markdown/lib/util/pattern-in-scope.js"],"sourcesContent":["/**\n * @typedef {import('../types.js').Unsafe} Unsafe\n */\n\n/**\n * @param {Array<string>} stack\n * @param {Unsafe} pattern\n * @returns {boolean}\n */\nexport function patternInScope(stack, pattern) {\n  return (\n    listInScope(stack, pattern.inConstruct, true) &&\n    !listInScope(stack, pattern.notInConstruct, false)\n  )\n}\n\n/**\n * @param {Array<string>} stack\n * @param {Unsafe['inConstruct']} list\n * @param {boolean} none\n * @returns {boolean}\n */\nfunction listInScope(stack, list, none) {\n  if (!list) {\n    return none\n  }\n\n  if (typeof list === 'string') {\n    list = [list]\n  }\n\n  let index = -1\n\n  while (++index < list.length) {\n    if (stack.includes(list[index])) {\n      return true\n    }\n  }\n\n  return false\n}\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,cAAc,CAACC,KAAK,EAAEC,OAAO,EAAE;EAC7C,OACEC,WAAW,CAACF,KAAK,EAAEC,OAAO,CAACE,WAAW,EAAE,IAAI,CAAC,IAC7C,CAACD,WAAW,CAACF,KAAK,EAAEC,OAAO,CAACG,cAAc,EAAE,KAAK,CAAC;AAEtD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASF,WAAW,CAACF,KAAK,EAAEK,IAAI,EAAEC,IAAI,EAAE;EACtC,IAAI,CAACD,IAAI,EAAE;IACT,OAAOC,IAAI;EACb;EAEA,IAAI,OAAOD,IAAI,KAAK,QAAQ,EAAE;IAC5BA,IAAI,GAAG,CAACA,IAAI,CAAC;EACf;EAEA,IAAIE,KAAK,GAAG,CAAC,CAAC;EAEd,OAAO,EAAEA,KAAK,GAAGF,IAAI,CAACG,MAAM,EAAE;IAC5B,IAAIR,KAAK,CAACS,QAAQ,CAACJ,IAAI,CAACE,KAAK,CAAC,CAAC,EAAE;MAC/B,OAAO,IAAI;IACb;EACF;EAEA,OAAO,KAAK;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}