{"ast":null,"code":"/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nvar preferredCharsets = require('./lib/charset');\nvar preferredEncodings = require('./lib/encoding');\nvar preferredLanguages = require('./lib/language');\nvar preferredMediaTypes = require('./lib/mediaType');\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n  this.request = request;\n}\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\nNegotiator.prototype.charsets = function charsets(available) {\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\nNegotiator.prototype.encodings = function encodings(available) {\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\nNegotiator.prototype.languages = function languages(available) {\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;","map":{"version":3,"names":["preferredCharsets","require","preferredEncodings","preferredLanguages","preferredMediaTypes","module","exports","Negotiator","request","prototype","charset","available","set","charsets","headers","encoding","encodings","language","languages","mediaType","mediaTypes","accept","preferredCharset","preferredEncoding","preferredLanguage","preferredMediaType"],"sources":["/Users/jiangzilong/学习/minpg/Heptabase-Blog/node_modules/negotiator/index.js"],"sourcesContent":["/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nvar preferredCharsets = require('./lib/charset')\nvar preferredEncodings = require('./lib/encoding')\nvar preferredLanguages = require('./lib/language')\nvar preferredMediaTypes = require('./lib/mediaType')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available) {\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}