{"ast":null,"code":"// http://www.rajdeepd.com/articles/chrome/localstrg/LocalStorageSample.htm\n\n// NOTE:\n// this varies from actual localStorage in some subtle ways\n\n// also, there is no persistence\n// TODO persist\n(function () {\n  \"use strict\";\n\n  var db;\n  function LocalStorage() {}\n  db = LocalStorage;\n  db.prototype.getItem = function (key) {\n    if (this.hasOwnProperty(key)) {\n      return String(this[key]);\n    }\n    return null;\n  };\n  db.prototype.setItem = function (key, val) {\n    this[key] = String(val);\n  };\n  db.prototype.removeItem = function (key) {\n    delete this[key];\n  };\n  db.prototype.clear = function () {\n    var self = this;\n    Object.keys(self).forEach(function (key) {\n      self[key] = undefined;\n      delete self[key];\n    });\n  };\n  db.prototype.key = function (i) {\n    i = i || 0;\n    return Object.keys(this)[i];\n  };\n  db.prototype.__defineGetter__('length', function () {\n    return Object.keys(this).length;\n  });\n  if (global.localStorage) {\n    module.exports = localStorage;\n  } else {\n    module.exports = new LocalStorage();\n  }\n})();","map":{"version":3,"names":["db","LocalStorage","prototype","getItem","key","hasOwnProperty","String","setItem","val","removeItem","clear","self","Object","keys","forEach","undefined","i","__defineGetter__","length","global","localStorage","module","exports"],"sources":["/Users/jiangzilong/学习/minpg/Heptabase-Blog/node_modules/localStorage/lib/localStorage.js"],"sourcesContent":["// http://www.rajdeepd.com/articles/chrome/localstrg/LocalStorageSample.htm\n\n// NOTE:\n// this varies from actual localStorage in some subtle ways\n\n// also, there is no persistence\n// TODO persist\n(function () {\n  \"use strict\";\n\n  var db;\n\n  function LocalStorage() {\n  }\n  db = LocalStorage;\n\n  db.prototype.getItem = function (key) {\n    if (this.hasOwnProperty(key)) {\n      return String(this[key]);\n    }\n    return null;\n  };\n\n  db.prototype.setItem = function (key, val) {\n    this[key] = String(val);\n  };\n\n  db.prototype.removeItem = function (key) {\n    delete this[key];\n  };\n\n  db.prototype.clear = function () {\n    var self = this;\n    Object.keys(self).forEach(function (key) {\n      self[key] = undefined;\n      delete self[key];\n    });\n  };\n\n  db.prototype.key = function (i) {\n    i = i || 0;\n    return Object.keys(this)[i];\n  };\n\n  db.prototype.__defineGetter__('length', function () {\n    return Object.keys(this).length;\n  });\n\n  if (global.localStorage) {\n    module.exports = localStorage;\n  } else {\n    module.exports = new LocalStorage();\n  }\n}());\n"],"mappings":"AAAA;;AAEA;AACA;;AAEA;AACA;AACC,aAAY;EACX,YAAY;;EAEZ,IAAIA,EAAE;EAEN,SAASC,YAAY,GAAG,CACxB;EACAD,EAAE,GAAGC,YAAY;EAEjBD,EAAE,CAACE,SAAS,CAACC,OAAO,GAAG,UAAUC,GAAG,EAAE;IACpC,IAAI,IAAI,CAACC,cAAc,CAACD,GAAG,CAAC,EAAE;MAC5B,OAAOE,MAAM,CAAC,IAAI,CAACF,GAAG,CAAC,CAAC;IAC1B;IACA,OAAO,IAAI;EACb,CAAC;EAEDJ,EAAE,CAACE,SAAS,CAACK,OAAO,GAAG,UAAUH,GAAG,EAAEI,GAAG,EAAE;IACzC,IAAI,CAACJ,GAAG,CAAC,GAAGE,MAAM,CAACE,GAAG,CAAC;EACzB,CAAC;EAEDR,EAAE,CAACE,SAAS,CAACO,UAAU,GAAG,UAAUL,GAAG,EAAE;IACvC,OAAO,IAAI,CAACA,GAAG,CAAC;EAClB,CAAC;EAEDJ,EAAE,CAACE,SAAS,CAACQ,KAAK,GAAG,YAAY;IAC/B,IAAIC,IAAI,GAAG,IAAI;IACfC,MAAM,CAACC,IAAI,CAACF,IAAI,CAAC,CAACG,OAAO,CAAC,UAAUV,GAAG,EAAE;MACvCO,IAAI,CAACP,GAAG,CAAC,GAAGW,SAAS;MACrB,OAAOJ,IAAI,CAACP,GAAG,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC;EAEDJ,EAAE,CAACE,SAAS,CAACE,GAAG,GAAG,UAAUY,CAAC,EAAE;IAC9BA,CAAC,GAAGA,CAAC,IAAI,CAAC;IACV,OAAOJ,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC,CAACG,CAAC,CAAC;EAC7B,CAAC;EAEDhB,EAAE,CAACE,SAAS,CAACe,gBAAgB,CAAC,QAAQ,EAAE,YAAY;IAClD,OAAOL,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC,CAACK,MAAM;EACjC,CAAC,CAAC;EAEF,IAAIC,MAAM,CAACC,YAAY,EAAE;IACvBC,MAAM,CAACC,OAAO,GAAGF,YAAY;EAC/B,CAAC,MAAM;IACLC,MAAM,CAACC,OAAO,GAAG,IAAIrB,YAAY,EAAE;EACrC;AACF,CAAC,GAAE"},"metadata":{},"sourceType":"script","externalDependencies":[]}