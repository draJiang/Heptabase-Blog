{"ast":null,"code":"'use strict';\n\nconst Tokenizer = require('../tokenizer');\nconst HTML = require('./html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\nconst ATTRS = HTML.ATTRS;\n\n//MIME types\nconst MIME_TYPES = {\n  TEXT_HTML: 'text/html',\n  APPLICATION_XML: 'application/xhtml+xml'\n};\n\n//Attributes\nconst DEFINITION_URL_ATTR = 'definitionurl';\nconst ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';\nconst SVG_ATTRS_ADJUSTMENT_MAP = {\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  basefrequency: 'baseFrequency',\n  baseprofile: 'baseProfile',\n  calcmode: 'calcMode',\n  clippathunits: 'clipPathUnits',\n  diffuseconstant: 'diffuseConstant',\n  edgemode: 'edgeMode',\n  filterunits: 'filterUnits',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  limitingconeangle: 'limitingConeAngle',\n  markerheight: 'markerHeight',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  numoctaves: 'numOctaves',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  refx: 'refX',\n  refy: 'refY',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stitchtiles: 'stitchTiles',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textlength: 'textLength',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  xchannelselector: 'xChannelSelector',\n  ychannelselector: 'yChannelSelector',\n  zoomandpan: 'zoomAndPan'\n};\nconst XML_ATTRS_ADJUSTMENT_MAP = {\n  'xlink:actuate': {\n    prefix: 'xlink',\n    name: 'actuate',\n    namespace: NS.XLINK\n  },\n  'xlink:arcrole': {\n    prefix: 'xlink',\n    name: 'arcrole',\n    namespace: NS.XLINK\n  },\n  'xlink:href': {\n    prefix: 'xlink',\n    name: 'href',\n    namespace: NS.XLINK\n  },\n  'xlink:role': {\n    prefix: 'xlink',\n    name: 'role',\n    namespace: NS.XLINK\n  },\n  'xlink:show': {\n    prefix: 'xlink',\n    name: 'show',\n    namespace: NS.XLINK\n  },\n  'xlink:title': {\n    prefix: 'xlink',\n    name: 'title',\n    namespace: NS.XLINK\n  },\n  'xlink:type': {\n    prefix: 'xlink',\n    name: 'type',\n    namespace: NS.XLINK\n  },\n  'xml:base': {\n    prefix: 'xml',\n    name: 'base',\n    namespace: NS.XML\n  },\n  'xml:lang': {\n    prefix: 'xml',\n    name: 'lang',\n    namespace: NS.XML\n  },\n  'xml:space': {\n    prefix: 'xml',\n    name: 'space',\n    namespace: NS.XML\n  },\n  xmlns: {\n    prefix: '',\n    name: 'xmlns',\n    namespace: NS.XMLNS\n  },\n  'xmlns:xlink': {\n    prefix: 'xmlns',\n    name: 'xlink',\n    namespace: NS.XMLNS\n  }\n};\n\n//SVG tag names adjustment map\nconst SVG_TAG_NAMES_ADJUSTMENT_MAP = exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = {\n  altglyph: 'altGlyph',\n  altglyphdef: 'altGlyphDef',\n  altglyphitem: 'altGlyphItem',\n  animatecolor: 'animateColor',\n  animatemotion: 'animateMotion',\n  animatetransform: 'animateTransform',\n  clippath: 'clipPath',\n  feblend: 'feBlend',\n  fecolormatrix: 'feColorMatrix',\n  fecomponenttransfer: 'feComponentTransfer',\n  fecomposite: 'feComposite',\n  feconvolvematrix: 'feConvolveMatrix',\n  fediffuselighting: 'feDiffuseLighting',\n  fedisplacementmap: 'feDisplacementMap',\n  fedistantlight: 'feDistantLight',\n  feflood: 'feFlood',\n  fefunca: 'feFuncA',\n  fefuncb: 'feFuncB',\n  fefuncg: 'feFuncG',\n  fefuncr: 'feFuncR',\n  fegaussianblur: 'feGaussianBlur',\n  feimage: 'feImage',\n  femerge: 'feMerge',\n  femergenode: 'feMergeNode',\n  femorphology: 'feMorphology',\n  feoffset: 'feOffset',\n  fepointlight: 'fePointLight',\n  fespecularlighting: 'feSpecularLighting',\n  fespotlight: 'feSpotLight',\n  fetile: 'feTile',\n  feturbulence: 'feTurbulence',\n  foreignobject: 'foreignObject',\n  glyphref: 'glyphRef',\n  lineargradient: 'linearGradient',\n  radialgradient: 'radialGradient',\n  textpath: 'textPath'\n};\n\n//Tags that causes exit from foreign content\nconst EXITS_FOREIGN_CONTENT = {\n  [$.B]: true,\n  [$.BIG]: true,\n  [$.BLOCKQUOTE]: true,\n  [$.BODY]: true,\n  [$.BR]: true,\n  [$.CENTER]: true,\n  [$.CODE]: true,\n  [$.DD]: true,\n  [$.DIV]: true,\n  [$.DL]: true,\n  [$.DT]: true,\n  [$.EM]: true,\n  [$.EMBED]: true,\n  [$.H1]: true,\n  [$.H2]: true,\n  [$.H3]: true,\n  [$.H4]: true,\n  [$.H5]: true,\n  [$.H6]: true,\n  [$.HEAD]: true,\n  [$.HR]: true,\n  [$.I]: true,\n  [$.IMG]: true,\n  [$.LI]: true,\n  [$.LISTING]: true,\n  [$.MENU]: true,\n  [$.META]: true,\n  [$.NOBR]: true,\n  [$.OL]: true,\n  [$.P]: true,\n  [$.PRE]: true,\n  [$.RUBY]: true,\n  [$.S]: true,\n  [$.SMALL]: true,\n  [$.SPAN]: true,\n  [$.STRONG]: true,\n  [$.STRIKE]: true,\n  [$.SUB]: true,\n  [$.SUP]: true,\n  [$.TABLE]: true,\n  [$.TT]: true,\n  [$.U]: true,\n  [$.UL]: true,\n  [$.VAR]: true\n};\n\n//Check exit from foreign content\nexports.causesExit = function (startTagToken) {\n  const tn = startTagToken.tagName;\n  const isFontWithAttrs = tn === $.FONT && (Tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null || Tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null || Tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);\n  return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];\n};\n\n//Token adjustments\nexports.adjustTokenMathMLAttrs = function (token) {\n  for (let i = 0; i < token.attrs.length; i++) {\n    if (token.attrs[i].name === DEFINITION_URL_ATTR) {\n      token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;\n      break;\n    }\n  }\n};\nexports.adjustTokenSVGAttrs = function (token) {\n  for (let i = 0; i < token.attrs.length; i++) {\n    const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n    if (adjustedAttrName) {\n      token.attrs[i].name = adjustedAttrName;\n    }\n  }\n};\nexports.adjustTokenXMLAttrs = function (token) {\n  for (let i = 0; i < token.attrs.length; i++) {\n    const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n    if (adjustedAttrEntry) {\n      token.attrs[i].prefix = adjustedAttrEntry.prefix;\n      token.attrs[i].name = adjustedAttrEntry.name;\n      token.attrs[i].namespace = adjustedAttrEntry.namespace;\n    }\n  }\n};\nexports.adjustTokenSVGTagName = function (token) {\n  const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];\n  if (adjustedTagName) {\n    token.tagName = adjustedTagName;\n  }\n};\n\n//Integration points\nfunction isMathMLTextIntegrationPoint(tn, ns) {\n  return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);\n}\nfunction isHtmlIntegrationPoint(tn, ns, attrs) {\n  if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {\n    for (let i = 0; i < attrs.length; i++) {\n      if (attrs[i].name === ATTRS.ENCODING) {\n        const value = attrs[i].value.toLowerCase();\n        return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;\n      }\n    }\n  }\n  return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);\n}\nexports.isIntegrationPoint = function (tn, ns, attrs, foreignNS) {\n  if ((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) {\n    return true;\n  }\n  if ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) {\n    return true;\n  }\n  return false;\n};","map":{"version":3,"names":["Tokenizer","require","HTML","$","TAG_NAMES","NS","NAMESPACES","ATTRS","MIME_TYPES","TEXT_HTML","APPLICATION_XML","DEFINITION_URL_ATTR","ADJUSTED_DEFINITION_URL_ATTR","SVG_ATTRS_ADJUSTMENT_MAP","attributename","attributetype","basefrequency","baseprofile","calcmode","clippathunits","diffuseconstant","edgemode","filterunits","glyphref","gradienttransform","gradientunits","kernelmatrix","kernelunitlength","keypoints","keysplines","keytimes","lengthadjust","limitingconeangle","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","numoctaves","pathlength","patterncontentunits","patterntransform","patternunits","pointsatx","pointsaty","pointsatz","preservealpha","preserveaspectratio","primitiveunits","refx","refy","repeatcount","repeatdur","requiredextensions","requiredfeatures","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","surfacescale","systemlanguage","tablevalues","targetx","targety","textlength","viewbox","viewtarget","xchannelselector","ychannelselector","zoomandpan","XML_ATTRS_ADJUSTMENT_MAP","prefix","name","namespace","XLINK","XML","xmlns","XMLNS","SVG_TAG_NAMES_ADJUSTMENT_MAP","exports","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","clippath","feblend","fecolormatrix","fecomponenttransfer","fecomposite","feconvolvematrix","fediffuselighting","fedisplacementmap","fedistantlight","feflood","fefunca","fefuncb","fefuncg","fefuncr","fegaussianblur","feimage","femerge","femergenode","femorphology","feoffset","fepointlight","fespecularlighting","fespotlight","fetile","feturbulence","foreignobject","lineargradient","radialgradient","textpath","EXITS_FOREIGN_CONTENT","B","BIG","BLOCKQUOTE","BODY","BR","CENTER","CODE","DD","DIV","DL","DT","EM","EMBED","H1","H2","H3","H4","H5","H6","HEAD","HR","I","IMG","LI","LISTING","MENU","META","NOBR","OL","P","PRE","RUBY","S","SMALL","SPAN","STRONG","STRIKE","SUB","SUP","TABLE","TT","U","UL","VAR","causesExit","startTagToken","tn","tagName","isFontWithAttrs","FONT","getTokenAttr","COLOR","SIZE","FACE","adjustTokenMathMLAttrs","token","i","attrs","length","adjustTokenSVGAttrs","adjustedAttrName","adjustTokenXMLAttrs","adjustedAttrEntry","adjustTokenSVGTagName","adjustedTagName","isMathMLTextIntegrationPoint","ns","MATHML","MI","MO","MN","MS","MTEXT","isHtmlIntegrationPoint","ANNOTATION_XML","ENCODING","value","toLowerCase","SVG","FOREIGN_OBJECT","DESC","TITLE","isIntegrationPoint","foreignNS"],"sources":["/Users/jiangzilong/学习/minpg/Heptabase-Blog/node_modules/parse5/lib/common/foreign-content.js"],"sourcesContent":["'use strict';\n\nconst Tokenizer = require('../tokenizer');\nconst HTML = require('./html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\nconst ATTRS = HTML.ATTRS;\n\n//MIME types\nconst MIME_TYPES = {\n    TEXT_HTML: 'text/html',\n    APPLICATION_XML: 'application/xhtml+xml'\n};\n\n//Attributes\nconst DEFINITION_URL_ATTR = 'definitionurl';\nconst ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';\nconst SVG_ATTRS_ADJUSTMENT_MAP = {\n    attributename: 'attributeName',\n    attributetype: 'attributeType',\n    basefrequency: 'baseFrequency',\n    baseprofile: 'baseProfile',\n    calcmode: 'calcMode',\n    clippathunits: 'clipPathUnits',\n    diffuseconstant: 'diffuseConstant',\n    edgemode: 'edgeMode',\n    filterunits: 'filterUnits',\n    glyphref: 'glyphRef',\n    gradienttransform: 'gradientTransform',\n    gradientunits: 'gradientUnits',\n    kernelmatrix: 'kernelMatrix',\n    kernelunitlength: 'kernelUnitLength',\n    keypoints: 'keyPoints',\n    keysplines: 'keySplines',\n    keytimes: 'keyTimes',\n    lengthadjust: 'lengthAdjust',\n    limitingconeangle: 'limitingConeAngle',\n    markerheight: 'markerHeight',\n    markerunits: 'markerUnits',\n    markerwidth: 'markerWidth',\n    maskcontentunits: 'maskContentUnits',\n    maskunits: 'maskUnits',\n    numoctaves: 'numOctaves',\n    pathlength: 'pathLength',\n    patterncontentunits: 'patternContentUnits',\n    patterntransform: 'patternTransform',\n    patternunits: 'patternUnits',\n    pointsatx: 'pointsAtX',\n    pointsaty: 'pointsAtY',\n    pointsatz: 'pointsAtZ',\n    preservealpha: 'preserveAlpha',\n    preserveaspectratio: 'preserveAspectRatio',\n    primitiveunits: 'primitiveUnits',\n    refx: 'refX',\n    refy: 'refY',\n    repeatcount: 'repeatCount',\n    repeatdur: 'repeatDur',\n    requiredextensions: 'requiredExtensions',\n    requiredfeatures: 'requiredFeatures',\n    specularconstant: 'specularConstant',\n    specularexponent: 'specularExponent',\n    spreadmethod: 'spreadMethod',\n    startoffset: 'startOffset',\n    stddeviation: 'stdDeviation',\n    stitchtiles: 'stitchTiles',\n    surfacescale: 'surfaceScale',\n    systemlanguage: 'systemLanguage',\n    tablevalues: 'tableValues',\n    targetx: 'targetX',\n    targety: 'targetY',\n    textlength: 'textLength',\n    viewbox: 'viewBox',\n    viewtarget: 'viewTarget',\n    xchannelselector: 'xChannelSelector',\n    ychannelselector: 'yChannelSelector',\n    zoomandpan: 'zoomAndPan'\n};\n\nconst XML_ATTRS_ADJUSTMENT_MAP = {\n    'xlink:actuate': { prefix: 'xlink', name: 'actuate', namespace: NS.XLINK },\n    'xlink:arcrole': { prefix: 'xlink', name: 'arcrole', namespace: NS.XLINK },\n    'xlink:href': { prefix: 'xlink', name: 'href', namespace: NS.XLINK },\n    'xlink:role': { prefix: 'xlink', name: 'role', namespace: NS.XLINK },\n    'xlink:show': { prefix: 'xlink', name: 'show', namespace: NS.XLINK },\n    'xlink:title': { prefix: 'xlink', name: 'title', namespace: NS.XLINK },\n    'xlink:type': { prefix: 'xlink', name: 'type', namespace: NS.XLINK },\n    'xml:base': { prefix: 'xml', name: 'base', namespace: NS.XML },\n    'xml:lang': { prefix: 'xml', name: 'lang', namespace: NS.XML },\n    'xml:space': { prefix: 'xml', name: 'space', namespace: NS.XML },\n    xmlns: { prefix: '', name: 'xmlns', namespace: NS.XMLNS },\n    'xmlns:xlink': { prefix: 'xmlns', name: 'xlink', namespace: NS.XMLNS }\n};\n\n//SVG tag names adjustment map\nconst SVG_TAG_NAMES_ADJUSTMENT_MAP = (exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = {\n    altglyph: 'altGlyph',\n    altglyphdef: 'altGlyphDef',\n    altglyphitem: 'altGlyphItem',\n    animatecolor: 'animateColor',\n    animatemotion: 'animateMotion',\n    animatetransform: 'animateTransform',\n    clippath: 'clipPath',\n    feblend: 'feBlend',\n    fecolormatrix: 'feColorMatrix',\n    fecomponenttransfer: 'feComponentTransfer',\n    fecomposite: 'feComposite',\n    feconvolvematrix: 'feConvolveMatrix',\n    fediffuselighting: 'feDiffuseLighting',\n    fedisplacementmap: 'feDisplacementMap',\n    fedistantlight: 'feDistantLight',\n    feflood: 'feFlood',\n    fefunca: 'feFuncA',\n    fefuncb: 'feFuncB',\n    fefuncg: 'feFuncG',\n    fefuncr: 'feFuncR',\n    fegaussianblur: 'feGaussianBlur',\n    feimage: 'feImage',\n    femerge: 'feMerge',\n    femergenode: 'feMergeNode',\n    femorphology: 'feMorphology',\n    feoffset: 'feOffset',\n    fepointlight: 'fePointLight',\n    fespecularlighting: 'feSpecularLighting',\n    fespotlight: 'feSpotLight',\n    fetile: 'feTile',\n    feturbulence: 'feTurbulence',\n    foreignobject: 'foreignObject',\n    glyphref: 'glyphRef',\n    lineargradient: 'linearGradient',\n    radialgradient: 'radialGradient',\n    textpath: 'textPath'\n});\n\n//Tags that causes exit from foreign content\nconst EXITS_FOREIGN_CONTENT = {\n    [$.B]: true,\n    [$.BIG]: true,\n    [$.BLOCKQUOTE]: true,\n    [$.BODY]: true,\n    [$.BR]: true,\n    [$.CENTER]: true,\n    [$.CODE]: true,\n    [$.DD]: true,\n    [$.DIV]: true,\n    [$.DL]: true,\n    [$.DT]: true,\n    [$.EM]: true,\n    [$.EMBED]: true,\n    [$.H1]: true,\n    [$.H2]: true,\n    [$.H3]: true,\n    [$.H4]: true,\n    [$.H5]: true,\n    [$.H6]: true,\n    [$.HEAD]: true,\n    [$.HR]: true,\n    [$.I]: true,\n    [$.IMG]: true,\n    [$.LI]: true,\n    [$.LISTING]: true,\n    [$.MENU]: true,\n    [$.META]: true,\n    [$.NOBR]: true,\n    [$.OL]: true,\n    [$.P]: true,\n    [$.PRE]: true,\n    [$.RUBY]: true,\n    [$.S]: true,\n    [$.SMALL]: true,\n    [$.SPAN]: true,\n    [$.STRONG]: true,\n    [$.STRIKE]: true,\n    [$.SUB]: true,\n    [$.SUP]: true,\n    [$.TABLE]: true,\n    [$.TT]: true,\n    [$.U]: true,\n    [$.UL]: true,\n    [$.VAR]: true\n};\n\n//Check exit from foreign content\nexports.causesExit = function(startTagToken) {\n    const tn = startTagToken.tagName;\n    const isFontWithAttrs =\n        tn === $.FONT &&\n        (Tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null ||\n            Tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null ||\n            Tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);\n\n    return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];\n};\n\n//Token adjustments\nexports.adjustTokenMathMLAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        if (token.attrs[i].name === DEFINITION_URL_ATTR) {\n            token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;\n            break;\n        }\n    }\n};\n\nexports.adjustTokenSVGAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n\n        if (adjustedAttrName) {\n            token.attrs[i].name = adjustedAttrName;\n        }\n    }\n};\n\nexports.adjustTokenXMLAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n\n        if (adjustedAttrEntry) {\n            token.attrs[i].prefix = adjustedAttrEntry.prefix;\n            token.attrs[i].name = adjustedAttrEntry.name;\n            token.attrs[i].namespace = adjustedAttrEntry.namespace;\n        }\n    }\n};\n\nexports.adjustTokenSVGTagName = function(token) {\n    const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];\n\n    if (adjustedTagName) {\n        token.tagName = adjustedTagName;\n    }\n};\n\n//Integration points\nfunction isMathMLTextIntegrationPoint(tn, ns) {\n    return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);\n}\n\nfunction isHtmlIntegrationPoint(tn, ns, attrs) {\n    if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {\n        for (let i = 0; i < attrs.length; i++) {\n            if (attrs[i].name === ATTRS.ENCODING) {\n                const value = attrs[i].value.toLowerCase();\n\n                return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;\n            }\n        }\n    }\n\n    return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);\n}\n\nexports.isIntegrationPoint = function(tn, ns, attrs, foreignNS) {\n    if ((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) {\n        return true;\n    }\n\n    if ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) {\n        return true;\n    }\n\n    return false;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}